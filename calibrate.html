<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kaart kalibratie</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #1a1a2e;
            font-family: 'Segoe UI', Arial, sans-serif;
            color: #fff;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        h3 { margin-bottom: 8px; font-size: 1rem; color: #f1c40f; }
        .controls {
            width: 100%; max-width: 500px; margin-bottom: 10px;
        }
        .slider-row {
            display: flex; align-items: center; gap: 8px;
            margin-bottom: 6px; font-size: 0.85rem;
        }
        .slider-row label { width: 70px; text-align: right; }
        .slider-row input[type=range] { flex: 1; }
        .slider-row .val { width: 45px; text-align: left; font-weight: 600; color: #f1c40f; }

        .viewport {
            width: 100%; max-width: 500px; overflow: hidden;
            border-radius: 8px; border: 2px solid #f1c40f;
            position: relative;
        }
        .map-container {
            position: relative;
            margin-left: -3%; width: calc(100% + 20%);
        }
        .map-container img { width: 100%; display: block; }
        .dot {
            position: absolute; width: 20px; height: 20px; border-radius: 50%;
            transform: translate(-50%, -50%);
            background: rgba(231, 76, 60, 0.4); border: 2px solid #e74c3c;
            pointer-events: none; z-index: 2;
        }
        .output {
            margin-top: 10px; width: 100%; max-width: 500px;
            background: #16213e; padding: 10px; border-radius: 8px;
            font-family: monospace; font-size: 0.8rem; color: #2ecc71;
            word-break: break-all;
        }
        button {
            margin-top: 8px; background: #2ecc71; color: #000; border: none;
            padding: 10px 20px; border-radius: 6px; font-weight: 600;
            cursor: pointer; font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <h3>Stel de kaart in zodat alle punten zichtbaar zijn</h3>

    <div class="controls">
        <div class="slider-row">
            <label>Zoom:</label>
            <input type="range" id="scale" min="1" max="3" step="0.05" value="1.9">
            <span class="val" id="scaleVal">1.9</span>
        </div>
        <div class="slider-row">
            <label>Links/Rechts:</label>
            <input type="range" id="originX" min="30" max="70" step="0.5" value="54">
            <span class="val" id="originXVal">54%</span>
        </div>
        <div class="slider-row">
            <label>Boven/Onder:</label>
            <input type="range" id="originY" min="5" max="30" step="0.5" value="16">
            <span class="val" id="originYVal">16%</span>
        </div>
    </div>

    <div class="viewport" id="viewport">
        <div class="map-container" id="mapContainer">
            <img src="IMG_5264.jpg" alt="kaart" id="mapImg" />
        </div>
    </div>

    <div class="output" id="output"></div>
    <button onclick="copyCSS()">Kopieer en stuur naar mij</button>

    <script>
        const dots = [
            {x:41.9,y:12.3},{x:47.7,y:9.4},{x:53.6,y:8.3},{x:60,y:7.4},
            {x:48.5,y:13.7},{x:54.2,y:13},{x:56.9,y:10.4},{x:52.3,y:16.2},
            {x:58.6,y:14.6},{x:56.4,y:17.7},{x:67.9,y:8.2},{x:70.5,y:10.3},
            {x:65.6,y:12.5},{x:68.7,y:12.7},{x:69.9,y:14.6},{x:65.9,y:16.6},
            {x:60.7,y:22.4},{x:65.1,y:21.9},{x:70.9,y:20.9},{x:70.7,y:22.8}
        ];

        const container = document.getElementById('mapContainer');
        const viewport = document.getElementById('viewport');
        const img = document.getElementById('mapImg');

        dots.forEach(d => {
            const el = document.createElement('div');
            el.className = 'dot';
            el.style.left = d.x + '%';
            el.style.top = d.y + '%';
            container.appendChild(el);
        });

        img.addEventListener('load', () => {
            viewport.style.maxHeight = (img.offsetHeight * 0.61) + 'px';
            update();
        });
        if (img.complete) {
            requestAnimationFrame(() => {
                viewport.style.maxHeight = (img.offsetHeight * 0.61) + 'px';
                update();
            });
        }

        const scaleEl = document.getElementById('scale');
        const oxEl = document.getElementById('originX');
        const oyEl = document.getElementById('originY');

        function update() {
            const s = scaleEl.value;
            const ox = oxEl.value;
            const oy = oyEl.value;
            document.getElementById('scaleVal').textContent = s;
            document.getElementById('originXVal').textContent = ox + '%';
            document.getElementById('originYVal').textContent = oy + '%';
            container.style.transform = 'scale(' + s + ')';
            container.style.transformOrigin = ox + '% ' + oy + '%';
            document.getElementById('output').textContent =
                'scale(' + s + ') origin(' + ox + '%, ' + oy + '%)';
        }

        scaleEl.addEventListener('input', update);
        oxEl.addEventListener('input', update);
        oyEl.addEventListener('input', update);

        function copyCSS() {
            const txt = document.getElementById('output').textContent;
            navigator.clipboard.writeText(txt);
            event.target.textContent = 'Gekopieerd!';
            setTimeout(() => event.target.textContent = 'Kopieer en stuur naar mij', 2000);
        }
    </script>
</body>
</html>
